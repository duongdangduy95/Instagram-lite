{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Documents/IT4409/Instagram-lite/app/api/signup/route.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\nimport bcrypt from 'bcrypt';\r\n// Update signup\r\nconst prisma = new PrismaClient();\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { username, fullname, email, phone, password } = body;\r\n\r\n    if (!username || !email || !password) {\r\n      return Response.json({ message: \"Missing required fields\" }, { status: 400 });\r\n    }\r\n\r\n    const existingUser = await prisma.user.findFirst({\r\n      where: {\r\n        OR: [\r\n          { email },\r\n          { username }\r\n        ]\r\n      }\r\n    });\r\n\r\n    if (existingUser) {\r\n      return Response.json(\r\n        { message: \"User with same email or username already exists\" },\r\n        { status: 409 }\r\n      );\r\n    }\r\n\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        username,\r\n        fullname,\r\n        email,\r\n        phone,\r\n        password: hashedPassword\r\n      }\r\n    });\r\n\r\n    return Response.json({ message: \"User created\", user: { id: user.id, email: user.email } });\r\n  } catch (error: unknown) {\r\n    const errorMessage = error instanceof Error ? error.message : \"Error creating user\"\r\n    console.error('Signup error:', error);\r\n    return Response.json(\r\n      { message: errorMessage },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACA,gBAAgB;AAChB,MAAM,SAAS,IAAI,6IAAY;AAExB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;QAEvD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU;YACpC,OAAO,SAAS,IAAI,CAAC;gBAAE,SAAS;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,eAAe,MAAM,OAAO,IAAI,CAAC,SAAS,CAAC;YAC/C,OAAO;gBACL,IAAI;oBACF;wBAAE;oBAAM;oBACR;wBAAE;oBAAS;iBACZ;YACH;QACF;QAEA,IAAI,cAAc;YAChB,OAAO,SAAS,IAAI,CAClB;gBAAE,SAAS;YAAkD,GAC7D;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,iBAAiB,MAAM,gHAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC;YACpC,MAAM;gBACJ;gBACA;gBACA;gBACA;gBACA,UAAU;YACZ;QACF;QAEA,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;YAAgB,MAAM;gBAAE,IAAI,KAAK,EAAE;gBAAE,OAAO,KAAK,KAAK;YAAC;QAAE;IAC3F,EAAE,OAAO,OAAgB;QACvB,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC9D,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,SAAS,IAAI,CAClB;YAAE,SAAS;QAAa,GACxB;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}