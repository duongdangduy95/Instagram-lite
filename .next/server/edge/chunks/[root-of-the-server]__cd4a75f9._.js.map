{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Desktop/Instagram-lite/middleware.ts"],"sourcesContent":["import { withAuth } from \"next-auth/middleware\"\r\nimport { NextResponse } from \"next/server\"\r\n\r\nexport const middleware = withAuth(\r\n  function middleware(req) {\r\n    // Nếu chưa đăng nhập, redirect sang login\r\n    if (!req.nextauth.token) {\r\n      const loginUrl = new URL(\"/login\", req.url)\r\n      return NextResponse.redirect(loginUrl)\r\n    }\r\n    return NextResponse.next()\r\n  },\r\n  {\r\n    callbacks: {\r\n      authorized: ({ token }) => {\r\n        // Cho phép truy cập nếu có token\r\n        return !!token\r\n      },\r\n    },\r\n  }\r\n)\r\n\r\n// Áp dụng middleware cho những route này\r\nexport const config = {\r\n  matcher: [\r\n    \"/home\",\r\n    \"/blog/:path*\",\r\n    \"/profile/:path*\",\r\n    \"/search\",\r\n    \"/user/:path*\",\r\n  ],\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,aAAa,IAAA,8LAAQ,EAChC,SAAS,WAAW,GAAG;IACrB,0CAA0C;IAC1C,IAAI,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE;QACvB,MAAM,WAAW,IAAI,IAAI,UAAU,IAAI,GAAG;QAC1C,OAAO,gOAAY,CAAC,QAAQ,CAAC;IAC/B;IACA,OAAO,gOAAY,CAAC,IAAI;AAC1B,GACA;IACE,WAAW;QACT,YAAY,CAAC,EAAE,KAAK,EAAE;YACpB,iCAAiC;YACjC,OAAO,CAAC,CAAC;QACX;IACF;AACF;AAIK,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;QACA;KACD;AACH"}}]
}