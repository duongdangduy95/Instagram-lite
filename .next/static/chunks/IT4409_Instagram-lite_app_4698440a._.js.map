{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Documents/IT4409/Instagram-lite/app/components/LikeButton.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ninterface LikeButtonProps {\r\n  blogId: string\r\n  initialLiked?: boolean\r\n  initialCount?: number\r\n  onLikeChange?: (newCount: number) => void\r\n}\r\n\r\nexport default function LikeButton({ \r\n  blogId, \r\n  initialLiked = false, \r\n  initialCount = 0,\r\n  onLikeChange\r\n}: LikeButtonProps) {\r\n  const router = useRouter()\r\n  const [liked, setLiked] = useState(initialLiked)\r\n  const [likeCount, setLikeCount] = useState(initialCount)\r\n  const [loading, setLoading] = useState(false)\r\n  const [authenticated, setAuthenticated] = useState<boolean | null>(null)\r\n\r\n  // g·ªçi API /api/me\r\n  useEffect(() => {\r\n    const checkSession = async () => {\r\n      try {\r\n        const res = await fetch('/api/me', {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n        })\r\n\r\n        if (!res.ok) {\r\n          console.log('Kh√¥ng c√≥ session, chuy·ªÉn h∆∞·ªõng ƒë·∫øn /login')\r\n          setAuthenticated(false)\r\n          return\r\n        }\r\n\r\n        const data = await res.json()\r\n        console.log('User session found:', data)\r\n        setAuthenticated(true)\r\n      } catch (err) {\r\n        console.error('L·ªói ki·ªÉm tra session:', err)\r\n        setAuthenticated(false)\r\n      }\r\n    }\r\n\r\n    checkSession()\r\n  }, [])\r\n\r\n  const handleLike = async () => {\r\n    if (authenticated === null) {\r\n      console.log('ƒêang ki·ªÉm tra session...')\r\n      return\r\n    }\r\n\r\n    if (!authenticated) {\r\n      console.log('Kh√¥ng c√≥ session, chuy·ªÉn h∆∞·ªõng ƒë·∫øn /login')\r\n      router.push('/login')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n      console.log('Sending like request for blog:', blogId)\r\n\r\n      const response = await fetch(`/api/blog/${blogId}/like`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      })\r\n\r\n      console.log('Response status:', response.status)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.text()\r\n        console.error('Server error:', errorData)\r\n        throw new Error(`HTTP ${response.status}: ${errorData}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      console.log('Like response:', data)\r\n\r\n      setLiked(data.liked)\r\n      const newCount = data.liked ? likeCount + 1 : likeCount - 1\r\n      setLikeCount(newCount)\r\n      \r\n      // G·ªçi callback ƒë·ªÉ update parent component\r\n      if (onLikeChange) {\r\n        onLikeChange(newCount)\r\n      }\r\n    } catch (error) {\r\n      console.error('Like error:', error)\r\n      if (error instanceof Error && error.message.includes('401')) {\r\n        console.log('Session invalid, redirecting to login')\r\n        router.push('/login')\r\n      }\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={handleLike}\r\n      disabled={loading || authenticated === null}\r\n      className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors flex-1 justify-center ${\r\n        loading || authenticated === null\r\n          ? 'opacity-50 cursor-not-allowed'\r\n          : 'hover:bg-gray-100'\r\n      }`}\r\n    >\r\n      <span className={liked ? 'text-blue-500' : 'text-gray-600'}>\r\n        üëç\r\n      </span>\r\n      <span className={`font-medium ${liked ? 'text-blue-600' : 'text-gray-600'}`}>\r\n        {loading ? 'ƒêang x·ª≠ l√Ω...' : liked ? 'ƒê√£ th√≠ch' : 'Th√≠ch'}\r\n      </span>\r\n    </button>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYe,SAAS,WAAW,KAKjB;QALiB,EACjC,MAAM,EACN,eAAe,KAAK,EACpB,eAAe,CAAC,EAChB,YAAY,EACI,GALiB;;IAMjC,MAAM,SAAS,IAAA,iLAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wMAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wMAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wMAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wMAAQ,EAAiB;IAEnE,kBAAkB;IAClB,IAAA,yMAAS;gCAAC;YACR,MAAM;qDAAe;oBACnB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,WAAW;4BACjC,QAAQ;4BACR,aAAa;wBACf;wBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,QAAQ,GAAG,CAAC;4BACZ,iBAAiB;4BACjB;wBACF;wBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,QAAQ,GAAG,CAAC,uBAAuB;wBACnC,iBAAiB;oBACnB,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,yBAAyB;wBACvC,iBAAiB;oBACnB;gBACF;;YAEA;QACF;+BAAG,EAAE;IAEL,MAAM,aAAa;QACjB,IAAI,kBAAkB,MAAM;YAC1B,QAAQ,GAAG,CAAC;YACZ;QACF;QAEA,IAAI,CAAC,eAAe;YAClB,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,WAAW;QAEX,IAAI;YACF,QAAQ,GAAG,CAAC,kCAAkC;YAE9C,MAAM,WAAW,MAAM,MAAM,AAAC,aAAmB,OAAP,QAAO,UAAQ;gBACvD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,aAAa;YACf;YAEA,QAAQ,GAAG,CAAC,oBAAoB,SAAS,MAAM;YAE/C,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,QAAQ,KAAK,CAAC,iBAAiB;gBAC/B,MAAM,IAAI,MAAM,AAAC,QAA2B,OAApB,SAAS,MAAM,EAAC,MAAc,OAAV;YAC9C;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,kBAAkB;YAE9B,SAAS,KAAK,KAAK;YACnB,MAAM,WAAW,KAAK,KAAK,GAAG,YAAY,IAAI,YAAY;YAC1D,aAAa;YAEb,0CAA0C;YAC1C,IAAI,cAAc;gBAChB,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;YAC7B,IAAI,iBAAiB,SAAS,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ;gBAC3D,QAAQ,GAAG,CAAC;gBACZ,OAAO,IAAI,CAAC;YACd;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,4NAAC;QACC,SAAS;QACT,UAAU,WAAW,kBAAkB;QACvC,WAAW,AAAC,4FAIX,OAHC,WAAW,kBAAkB,OACzB,kCACA;;0BAGN,4NAAC;gBAAK,WAAW,QAAQ,kBAAkB;0BAAiB;;;;;;0BAG5D,4NAAC;gBAAK,WAAW,AAAC,eAAwD,OAA1C,QAAQ,kBAAkB;0BACvD,UAAU,kBAAkB,QAAQ,aAAa;;;;;;;;;;;;AAI1D;GAhHwB;;QAMP,iLAAS;;;KANF","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Documents/IT4409/Instagram-lite/app/components/Navigation.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { useSession, signOut } from 'next-auth/react'\r\nimport { useState } from 'react'\r\n\r\nexport default function Navigation() {\r\n  const { data: session } = useSession()\r\n  const [showMenu, setShowMenu] = useState(false)\r\n\r\n  return (\r\n    <nav className=\"bg-white shadow-sm border-b sticky top-0 z-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"text-2xl font-bold text-blue-600 hover:text-blue-700\">\r\n            InstaClone\r\n          </Link>\r\n\r\n          {/* Desktop Menu */}\r\n          <div className=\"hidden md:flex items-center space-x-6\">\r\n            <Link\r\n              href=\"/home\"\r\n              className=\"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors\"\r\n            >\r\n              <span className=\"text-xl\">üè†</span>\r\n              <span>Trang ch·ªß</span>\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/search\"\r\n              className=\"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors\"\r\n            >\r\n              <span className=\"text-xl\">üîç</span>\r\n              <span>T√¨m ki·∫øm</span>\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/blog/create\"\r\n              className=\"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors\"\r\n            >\r\n              <span className=\"text-xl\">‚ûï</span>\r\n              <span>T·∫°o b√†i</span>\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/profile\"\r\n              className=\"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors\"\r\n            >\r\n              <span className=\"text-xl\">üë§</span>\r\n              <span>Trang c√° nh√¢n</span>\r\n            </Link>\r\n\r\n            <button\r\n              onClick={() => signOut({ redirect: true, callbackUrl: '/login' })}\r\n              className=\"flex items-center space-x-2 text-gray-700 hover:text-red-600 transition-colors\"\r\n            >\r\n              <span className=\"text-xl\">üö™</span>\r\n              <span>ƒêƒÉng xu·∫•t</span>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            onClick={() => setShowMenu(!showMenu)}\r\n            className=\"md:hidden text-2xl focus:outline-none\"\r\n          >\r\n            ‚ò∞\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {showMenu && (\r\n          <div className=\"md:hidden mt-4 pb-4 space-y-3 border-t pt-4\">\r\n            <Link\r\n              href=\"/home\"\r\n              className=\"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\"\r\n              onClick={() => setShowMenu(false)}\r\n            >\r\n              üè† Trang ch·ªß\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/search\"\r\n              className=\"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\"\r\n              onClick={() => setShowMenu(false)}\r\n            >\r\n              üîç T√¨m ki·∫øm\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/blog/create\"\r\n              className=\"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\"\r\n              onClick={() => setShowMenu(false)}\r\n            >\r\n              ‚ûï T·∫°o b√†i\r\n            </Link>\r\n\r\n            <Link\r\n              href=\"/profile\"\r\n              className=\"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors\"\r\n              onClick={() => setShowMenu(false)}\r\n            >\r\n              üë§ Trang c√° nh√¢n\r\n            </Link>\r\n\r\n            <button\r\n              onClick={() => {\r\n                signOut({ redirect: true, callbackUrl: '/login' })\r\n                setShowMenu(false)\r\n              }}\r\n              className=\"block w-full text-left px-4 py-2 text-gray-700 hover:bg-red-50 rounded-lg transition-colors\"\r\n            >\r\n              üö™ ƒêƒÉng xu·∫•t\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,8LAAU;IACpC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wMAAQ,EAAC;IAEzC,qBACE,4NAAC;QAAI,WAAU;kBACb,cAAA,4NAAC;YAAI,WAAU;;8BACb,4NAAC;oBAAI,WAAU;;sCAEb,4NAAC,yMAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAuD;;;;;;sCAKhF,4NAAC;4BAAI,WAAU;;8CACb,4NAAC,yMAAI;oCACH,MAAK;oCACL,WAAU;;sDAEV,4NAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,4NAAC;sDAAK;;;;;;;;;;;;8CAGR,4NAAC,yMAAI;oCACH,MAAK;oCACL,WAAU;;sDAEV,4NAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,4NAAC;sDAAK;;;;;;;;;;;;8CAGR,4NAAC,yMAAI;oCACH,MAAK;oCACL,WAAU;;sDAEV,4NAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,4NAAC;sDAAK;;;;;;;;;;;;8CAGR,4NAAC,yMAAI;oCACH,MAAK;oCACL,WAAU;;sDAEV,4NAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,4NAAC;sDAAK;;;;;;;;;;;;8CAGR,4NAAC;oCACC,SAAS,IAAM,IAAA,2LAAO,EAAC;4CAAE,UAAU;4CAAM,aAAa;wCAAS;oCAC/D,WAAU;;sDAEV,4NAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,4NAAC;sDAAK;;;;;;;;;;;;;;;;;;sCAKV,4NAAC;4BACC,SAAS,IAAM,YAAY,CAAC;4BAC5B,WAAU;sCACX;;;;;;;;;;;;gBAMF,0BACC,4NAAC;oBAAI,WAAU;;sCACb,4NAAC,yMAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,YAAY;sCAC5B;;;;;;sCAID,4NAAC,yMAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,YAAY;sCAC5B;;;;;;sCAID,4NAAC,yMAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,YAAY;sCAC5B;;;;;;sCAID,4NAAC,yMAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,YAAY;sCAC5B;;;;;;sCAID,4NAAC;4BACC,SAAS;gCACP,IAAA,2LAAO,EAAC;oCAAE,UAAU;oCAAM,aAAa;gCAAS;gCAChD,YAAY;4BACd;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAlHwB;;QACI,8LAAU;;;KADd","debugId":null}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Documents/IT4409/Instagram-lite/app/components/ShareButton.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\n\r\ninterface ShareButtonProps {\r\n  blogId: string\r\n  onShared?: () => void\r\n}\r\n\r\nexport default function ShareButton({ blogId, onShared }: ShareButtonProps) {\r\n  const [open, setOpen] = useState(false)\r\n  const [caption, setCaption] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleShare = async () => {\r\n    setLoading(true)\r\n\r\n    try {\r\n      await fetch('/api/blog/share', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ blogId, caption }),\r\n      })\r\n\r\n      onShared?.() // g·ªçi callback ƒë·ªÉ refresh d·ªØ li·ªáu\r\n      setOpen(false)\r\n      setCaption('')\r\n    } catch (error) {\r\n      console.error('Error sharing blog:', error)\r\n      alert('Chia s·∫ª b√†i vi·∫øt th·∫•t b·∫°i.')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => setOpen(true)}\r\n        className=\"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 rounded-lg flex-1 justify-center\"\r\n      >\r\n        <span>üì§</span>\r\n        <span className=\"font-medium\">Chia s·∫ª</span>\r\n      </button>\r\n\r\n      {open && (\r\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-4 w-full max-w-md\">\r\n            <h3 className=\"font-semibold mb-2\">Chia s·∫ª b√†i vi·∫øt</h3>\r\n            <textarea\r\n              value={caption}\r\n              onChange={(e) => setCaption(e.target.value)}\r\n              placeholder=\"Vi·∫øt c·∫£m nghƒ© c·ªßa b·∫°n...\"\r\n              className=\"w-full border rounded p-2 mb-3\"\r\n              rows={3}\r\n            />\r\n            <div className=\"flex justify-end space-x-2\">\r\n              <button onClick={() => setOpen(false)}>H·ªßy</button>\r\n              <button\r\n                onClick={handleShare}\r\n                disabled={loading}\r\n                className=\"bg-blue-600 text-white px-4 py-1 rounded\"\r\n              >\r\n                {loading ? 'ƒêang chia s·∫ª...' : 'Chia s·∫ª'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS,YAAY,KAAsC;QAAtC,EAAE,MAAM,EAAE,QAAQ,EAAoB,GAAtC;;IAClC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wMAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wMAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wMAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,mBAAmB;gBAC7B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAQ;gBAAQ;YACzC;YAEA,qBAAA,+BAAA,YAAa,kCAAkC;YAC/C,QAAQ;YACR,WAAW;QACb,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;0BACE,4NAAC;gBACC,SAAS,IAAM,QAAQ;gBACvB,WAAU;;kCAEV,4NAAC;kCAAK;;;;;;kCACN,4NAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;YAG/B,sBACC,4NAAC;gBAAI,WAAU;0BACb,cAAA,4NAAC;oBAAI,WAAU;;sCACb,4NAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,4NAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC1C,aAAY;4BACZ,WAAU;4BACV,MAAM;;;;;;sCAER,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCAAO,SAAS,IAAM,QAAQ;8CAAQ;;;;;;8CACvC,4NAAC;oCACC,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,UAAU,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/C;GA9DwB;KAAA","debugId":null}},
    {"offset": {"line": 559, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Documents/IT4409/Instagram-lite/app/profile/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\nimport LikeButton from \"../components/LikeButton\"\r\nimport Navigation from \"../components/Navigation\"\r\nimport ShareButton from '../components/ShareButton'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ninterface Blog {\r\n  _count: {\r\n    likes: number\r\n    comments: number\r\n  }\r\n  id: string\r\n  caption: string\r\n  imageUrl: string\r\n  createdAt: string\r\n  likes: Array<{ userId: string }>\r\n  sharedFrom?: {\r\n    id: string\r\n    caption: string\r\n    imageUrl: string\r\n    createdAt: string\r\n    author: {\r\n      id: string\r\n      fullname: string\r\n      username: string\r\n    }\r\n    _count: {\r\n      likes: number\r\n      comments: number\r\n    }\r\n  }\r\n  author?: {\r\n    id: string\r\n    fullname: string\r\n    username: string\r\n  }\r\n}\r\n\r\ninterface Like {\r\n  blog: Blog\r\n}\r\n\r\ninterface UserType {\r\n  id: string\r\n  fullname: string\r\n  email: string\r\n  phone?: string\r\n  username: string\r\n  blogs: Blog[]\r\n  likes: Like[]\r\n  following: Array<{ id: string }>\r\n}\r\n\r\nexport default function ProfilePage() {\r\n  const router = useRouter()\r\n  const [user, setUser] = useState<UserType | null>(null)\r\n  const [myBlogs, setMyBlogs] = useState<Blog[]>([])\r\n  const [likedBlogs, setLikedBlogs] = useState<Blog[]>([])\r\n  const [activeTab, setActiveTab] = useState<'posts' | 'liked'>('posts')\r\n  const [editingPost, setEditingPost] = useState<string | null>(null)\r\n  const [editCaption, setEditCaption] = useState<string>('')\r\n  const [editImage, setEditImage] = useState<File | null>(null)\r\n  const [showDeleteModal, setShowDeleteModal] = useState<string | null>(null)\r\n  const [isLoading, setIsLoading] = useState<boolean>(false)\r\n  const [showDropdown, setShowDropdown] = useState<string | null>(null)\r\n  const [showEditProfileModal, setShowEditProfileModal] = useState<boolean>(false)\r\n  const [followersCount, setFollowersCount] = useState<number>(0)\r\n  const [followingCount, setFollowingCount] = useState<number>(0)\r\n\r\n  const [editProfileData, setEditProfileData] = useState({\r\n    fullname: '',\r\n    email: '',\r\n    phone: ''\r\n  })\r\n  const [profileErrors, setProfileErrors] = useState<Record<string, string>>({})\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const res = await fetch('/api/me', {\r\n        credentials: 'include',\r\n      })\r\n      const data = await res.json()\r\n      console.log(data)\r\n\r\n      if (!data || data.error) return\r\n\r\n      setUser(data)\r\n      setMyBlogs(data.blogs)\r\n      setLikedBlogs(data.likes.map((like: Like) => like.blog))\r\n      \r\n      // C·∫≠p nh·∫≠t follow counts\r\n      setFollowersCount(data.following?.length || 0)\r\n      setFollowingCount(data.following?.length || 0)\r\n    }\r\n\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (showDropdown) {\r\n        setShowDropdown(null)\r\n      }\r\n      event.preventDefault()\r\n    }\r\n\r\n    document.addEventListener('click', handleClickOutside)\r\n    return () => document.removeEventListener('click', handleClickOutside)\r\n  }, [showDropdown])\r\n\r\n  const handleEditPost = (blog: Blog) => {\r\n    setEditingPost(blog.id)\r\n    setEditCaption(blog.caption)\r\n    setEditImage(null)\r\n  }\r\n\r\n  const handleSaveEdit = async (blogId: string) => {\r\n    setIsLoading(true)\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append('caption', editCaption)\r\n      if (editImage) {\r\n        formData.append('image', editImage)\r\n      }\r\n\r\n      const response = await fetch(`/api/blog/${blogId}`, {\r\n        method: 'PATCH',\r\n        body: formData,\r\n        credentials: 'include',\r\n      })\r\n\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setMyBlogs(prevBlogs => \r\n          prevBlogs.map(blog => \r\n            blog.id === blogId \r\n              ? { \r\n                  ...blog, \r\n                  caption: result.blog.caption, \r\n                  imageUrl: result.blog.imageUrl || blog.imageUrl,\r\n                  _count: blog._count // ‚úÖ Gi·ªØ l·∫°i _count (likes, comments)\r\n                }\r\n              : blog\r\n          )\r\n        )\r\n        setEditingPost(null)\r\n        setEditCaption('')\r\n        setEditImage(null)\r\n        alert('C·∫≠p nh·∫≠t b√†i vi·∫øt th√†nh c√¥ng!')\r\n      } else {\r\n        alert('C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t b√†i vi·∫øt')\r\n      }\r\n    } catch (_error) {\r\n      alert('C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t b√†i vi·∫øt')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingPost(null)\r\n    setEditCaption('')\r\n    setEditImage(null)\r\n  }\r\n\r\n  const handleDeletePost = async (blogId: string) => {\r\n    setIsLoading(true)\r\n    try {\r\n      const response = await fetch(`/api/blog/${blogId}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      })\r\n\r\n      if (response.ok) {\r\n        setMyBlogs(prevBlogs => prevBlogs.filter(blog => blog.id !== blogId))\r\n        setShowDeleteModal(null)\r\n        alert('X√≥a b√†i vi·∫øt th√†nh c√¥ng!')\r\n      } else {\r\n        alert('C√≥ l·ªói x·∫£y ra khi x√≥a b√†i vi·∫øt')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting post:', error)\r\n      alert('C√≥ l·ªói x·∫£y ra khi x√≥a b√†i vi·∫øt')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleLikeUpdate = (_blogId: string, _newCount: number, _isLiked: boolean) => {\r\n    // Placeholder for future implementation\r\n  }\r\n\r\n  const handleOpenEditProfile = () => {\r\n    setEditProfileData({\r\n      fullname: user.fullname,\r\n      email: user.email,\r\n      phone: user.phone || ''\r\n    })\r\n    setProfileErrors({})\r\n    setShowEditProfileModal(true)\r\n  }\r\n\r\n  const validateProfileData = () => {\r\n    const errors: Record<string, string> = {}\r\n\r\n    if (!editProfileData.fullname.trim()) {\r\n      errors.fullname = 'H·ªç v√† t√™n kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng'\r\n    } else if (editProfileData.fullname.trim().length < 2) {\r\n      errors.fullname = 'H·ªç v√† t√™n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±'\r\n    } else if (editProfileData.fullname.trim().length > 50) {\r\n      errors.fullname = 'H·ªç v√† t√™n kh√¥ng ƒë∆∞·ª£c qu√° 50 k√Ω t·ª±'\r\n    }\r\n\r\n    if (!editProfileData.email.trim()) {\r\n      errors.email = 'Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng'\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(editProfileData.email)) {\r\n      errors.email = 'Email kh√¥ng h·ª£p l·ªá'\r\n    }\r\n\r\n    if (editProfileData.phone.trim()) {\r\n      const phoneRegex = /^[0-9]{10,11}$/\r\n      if (!phoneRegex.test(editProfileData.phone.replace(/\\s/g, ''))) {\r\n        errors.phone = 'S·ªë ƒëi·ªán tho·∫°i ph·∫£i c√≥ 10-11 ch·ªØ s·ªë'\r\n      }\r\n    }\r\n\r\n    setProfileErrors(errors)\r\n    return Object.keys(errors).length === 0\r\n  }\r\n\r\n  const handleSaveProfile = async () => {\r\n    // Validate tr∆∞·ªõc khi submit\r\n    if (!validateProfileData()) {\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n    try {\r\n      const response = await fetch('/api/me', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(editProfileData),\r\n        credentials: 'include',\r\n      })\r\n\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setUser(result)\r\n        setShowEditProfileModal(false)\r\n        setProfileErrors({})\r\n        alert('C·∫≠p nh·∫≠t h·ªì s∆° th√†nh c√¥ng!')\r\n      } else {\r\n        const data = await response.json()\r\n        if (response.status === 409) {\r\n          setProfileErrors({ email: 'Email ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng' })\r\n        } else {\r\n          alert(data.error || 'Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t h·ªì s∆°')\r\n        }\r\n      }\r\n    } catch (_error) {\r\n      alert('C√≥ l·ªói x·∫£y ra')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-3 text-gray-600 text-center text-sm\">ƒêang t·∫£i...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function setShowFollowModal(_followerId: string): void {\r\n    // Not used\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* NAVIGATION */}\r\n      <Navigation />\r\n\r\n      {/* Cover Photo & Profile Section */}\r\n      <div className=\"bg-white\">\r\n        {/* Cover Photo */}\r\n        <div className=\"relative\">\r\n          <div className=\"h-80 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 relative overflow-hidden\">\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-20\"></div>\r\n          </div>\r\n          \r\n          {/* Profile Info Overlay */}\r\n          <div className=\"absolute -bottom-6 left-6\">\r\n            <div className=\"flex items-end space-x-4\">\r\n              {/* Profile Picture */}\r\n              <div className=\"relative\">\r\n                <div className=\"w-40 h-40 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full border-4 border-white shadow-lg flex items-center justify-center\">\r\n                  <span className=\"text-4xl font-bold text-white\">\r\n                    {user.fullname?.charAt(0).toUpperCase()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"absolute bottom-2 right-2 w-8 h-8 bg-green-500 rounded-full border-3 border-white\"></div>\r\n              </div>\r\n              \r\n              {/* Name and Username */}\r\n              <div className=\"pb-4\">\r\n                <h1 className=\"text-3xl font-bold text-white drop-shadow-lg\">{user.fullname}</h1>\r\n                <p className=\"text-lg text-gray-200 drop-shadow\">@{user.username}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Profile Actions & Info */}\r\n        <div className=\"pt-8 pb-4 px-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"mt-2 text-gray-600\">\r\n                <div className=\"flex items-center space-x-6 text-sm\">\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <span>üìß</span>\r\n                    <span>{user.email}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <span>üì±</span>\r\n                    <span>{user.phone}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-3\">\r\n              <Link\r\n                href=\"/blog/create\"\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n              >\r\n                + Th√™m b√†i vi·∫øt\r\n              </Link>\r\n              <button \r\n                onClick={handleOpenEditProfile}\r\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\r\n              >\r\n                ‚úèÔ∏è Ch·ªânh s·ª≠a trang c√° nh√¢n\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"px-6 border-t\">\r\n          <div className=\"flex space-x-8\">\r\n            <button\r\n              onClick={() => setActiveTab('posts')}\r\n              className={`py-4 font-medium border-b-2 transition-colors ${\r\n                activeTab === 'posts'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              B√†i vi·∫øt ({myBlogs.length})\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('liked')}\r\n              className={`py-4 font-medium border-b-2 transition-colors ${\r\n                activeTab === 'liked'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              ƒê√£ th√≠ch ({likedBlogs.length})\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-4xl mx-auto px-4 py-6 grid grid-cols-12 gap-6\">\r\n        {/* Left Sidebar */}\r\n        <div className=\"col-span-12 lg:col-span-4 space-y-4\">\r\n          {/* Intro Card */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Gi·ªõi thi·ªáu</h3>\r\n            <div className=\"space-y-3 text-sm\">\r\n              <div className=\"flex items-center space-x-2 text-gray-600\">\r\n                <span>üë§</span>\r\n                <span>T√™n: {user.fullname}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-gray-600\">\r\n                <span>üìß</span>\r\n                <span>{user.email}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 text-gray-600\">\r\n                <span>üì±</span>\r\n                <span>{user.phone}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats Card - C·∫¨P NH·∫¨T PH·∫¶N N√ÄY */}\r\n          <div className=\"bg-white rounded-lg shadow-sm p-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Th·ªëng k√™</h3>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\r\n                <div className=\"text-xl font-bold text-blue-600\">{myBlogs.length}</div>\r\n                <div className=\"text-xs text-gray-600\">B√†i vi·∫øt</div>\r\n              </div>\r\n              <div className=\"text-center p-3 bg-pink-50 rounded-lg\">\r\n                <div className=\"text-xl font-bold text-pink-600\">{myBlogs.reduce((sum, blog) => sum + (blog._count?.likes || 0), 0)}</div>\r\n                <div className=\"text-xs text-gray-600\">T·ªïng like</div>\r\n              </div>\r\n              <div className=\"text-center p-3 bg-purple-50 rounded-lg\">\r\n                <div className=\"text-xl font-bold text-purple-600\">{likedBlogs.length}</div>\r\n                <div className=\"text-xs text-gray-600\">ƒê√£ th√≠ch</div>\r\n              </div>\r\n              \r\n              {/* N√öT XEM FOLLOWERS */}\r\n              <button\r\n                onClick={() => setShowFollowModal('followers')}\r\n                className=\"text-center p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors cursor-pointer\"\r\n              >\r\n                <div className=\"text-xl font-bold text-purple-600\">{followersCount}</div>\r\n                <div className=\"text-xs text-gray-600\">Ng∆∞·ªùi theo d√µi</div>\r\n              </button>\r\n              \r\n              {/* N√öT XEM FOLLOWING */}\r\n              <button\r\n                onClick={() => setShowFollowModal('following')}\r\n                className=\"text-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors cursor-pointer\"\r\n              >\r\n                <div className=\"text-xl font-bold text-green-600\">{followingCount}</div>\r\n                <div className=\"text-xs text-gray-600\">ƒêang theo d√µi</div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Content */}\r\n        <div className=\"col-span-12 lg:col-span-8\">\r\n          {/* Create Post Card */}\r\n          {activeTab === 'posts' && (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-4 mb-4\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center\">\r\n                  <span className=\"text-white font-semibold text-sm\">\r\n                    {user.fullname.charAt(0).toUpperCase()}\r\n                  </span>\r\n                </div>\r\n                <Link\r\n                  href=\"/blog/create\"\r\n                  className=\"flex-1 px-4 py-2 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200 transition-colors cursor-pointer\"\r\n                >\r\n                  {user.fullname} ∆°i, b·∫°n ƒëang nghƒ© g√¨ th·∫ø?\r\n                </Link>\r\n              </div>\r\n              <div className=\"flex items-center justify-around mt-3 pt-3 border-t\">\r\n                <Link\r\n                  href=\"/blog/create\"\r\n                  className=\"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors flex-1 justify-center\"\r\n                >\r\n                  <span className=\"text-green-500\">üì∏</span>\r\n                  <span className=\"text-gray-600 font-medium\">·∫¢nh/Video</span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Posts */}\r\n          <div className=\"space-y-4\">\r\n            {(activeTab === 'posts' ? myBlogs : likedBlogs).map((blog) => {\r\n              const isShared = !!blog.sharedFrom\r\n              const displayBlog = blog.sharedFrom ?? blog\r\n              const displayAuthor = isShared ? blog.sharedFrom!.author : (blog.author || user)\r\n              \r\n              return (\r\n              <div key={blog.id} className=\"bg-white rounded-lg shadow-sm\">\r\n                {/* Th√¥ng b√°o Share */}\r\n                {isShared && (\r\n                  <div className=\"px-4 pt-4 pb-2 text-sm text-gray-600 border-b\">\r\n                    ƒê√£ chia s·∫ª b√†i vi·∫øt c·ªßa{' '}\r\n                    <span className=\"font-semibold text-blue-600\">{displayAuthor.fullname}</span>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Caption c·ªßa ng∆∞·ªùi share (n·∫øu c√≥) */}\r\n                {isShared && blog.caption && (\r\n                  <div className=\"px-4 pt-3 pb-2\">\r\n                    <p className=\"text-gray-900\">{blog.caption}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Post Header - Hi·ªÉn th·ªã t√°c gi·∫£ g·ªëc */}\r\n                <div className=\"p-4 flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center\">\r\n                      <span className=\"text-white font-semibold text-sm\">\r\n                        {displayAuthor.fullname.charAt(0).toUpperCase()}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold text-gray-900\">{displayAuthor.fullname}</p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {new Date(displayBlog.createdAt).toLocaleDateString('vi-VN', {\r\n                          day: 'numeric',\r\n                          month: 'long',\r\n                          year: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit'\r\n                        })}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Options Menu - Only show for own posts */}\r\n                  {activeTab === 'posts' && (\r\n                    <div className=\"relative\">\r\n                      <button \r\n                        className=\"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-colors\"\r\n                        onClick={() => setShowDropdown(showDropdown === blog.id ? null : blog.id)}\r\n                      >\r\n                        <span className=\"text-xl\">‚Ä¢‚Ä¢‚Ä¢</span>\r\n                      </button>\r\n                      \r\n                      {/* Dropdown Menu */}\r\n                      {showDropdown === blog.id && (\r\n                        <div className=\"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10\">\r\n                          <button\r\n                            onClick={() => {\r\n                              handleEditPost(blog)\r\n                              setShowDropdown(null)\r\n                            }}\r\n                            className=\"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center space-x-2\"\r\n                          >\r\n                            <span>‚úèÔ∏è</span>\r\n                            <span>Ch·ªânh s·ª≠a b√†i vi·∫øt</span>\r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              setShowDeleteModal(blog.id)\r\n                              setShowDropdown(null)\r\n                            }}\r\n                            className=\"w-full px-4 py-2 text-left text-red-600 hover:bg-red-50 flex items-center space-x-2\"\r\n                          >\r\n                            <span>üóëÔ∏è</span>\r\n                            <span>X√≥a b√†i vi·∫øt</span>\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Edit Form or Post Content */}\r\n                {editingPost === blog.id ? (\r\n                  <div className=\"px-4 pb-3\">\r\n                    <textarea\r\n                      value={editCaption}\r\n                      onChange={(e) => setEditCaption(e.target.value)}\r\n                      className=\"w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      rows={3}\r\n                      placeholder=\"Nh·∫≠p n·ªôi dung b√†i vi·∫øt...\"\r\n                    />\r\n                    <div className=\"mt-3\">\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => setEditImage(e.target.files?.[0] || null)}\r\n                        className=\"mb-3\"\r\n                      />\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button\r\n                          onClick={() => handleSaveEdit(blog.id)}\r\n                          disabled={isLoading}\r\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                        >\r\n                          {isLoading ? 'ƒêang l∆∞u...' : 'L∆∞u thay ƒë·ªïi'}\r\n                        </button>\r\n                        <button\r\n                          onClick={handleCancelEdit}\r\n                          className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n                        >\r\n                          H·ªßy\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* Caption c·ªßa b√†i g·ªëc (n·∫øu kh√¥ng ph·∫£i b√†i share) */}\r\n                    {!isShared && blog.caption && (\r\n                      <div className=\"px-4 pb-3\">\r\n                        <p className=\"text-gray-900\">{blog.caption}</p>\r\n                      </div>\r\n                    )}\r\n                    {/* Caption b√†i g·ªëc trong b√†i share */}\r\n                    {isShared && displayBlog.caption && (\r\n                      <div className=\"px-4 pb-3\">\r\n                        <p className=\"text-gray-900\">{displayBlog.caption}</p>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n\r\n                {/* Post Image */}\r\n                <Link href={`/blog/${isShared ? displayBlog.id : blog.id}`}>\r\n                  <div className=\"cursor-pointer\">\r\n                    <Image\r\n                      src={displayBlog.imageUrl}\r\n                      alt={displayBlog.caption || 'Blog image'}\r\n                      width={600}\r\n                      height={400}\r\n                      className=\"w-full h-auto object-cover\"\r\n                    />\r\n                  </div>\r\n                </Link>\r\n\r\n                {/* Post Actions */}\r\n                <div className=\"p-4\">\r\n                  <div className=\"flex items-center justify-between text-gray-500 text-sm mb-3\">\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <span className=\"text-blue-500\">üëç</span>\r\n                      <span className=\"font-semibold text-gray-900\">{blog._count?.likes || 0} l∆∞·ª£t th√≠ch</span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <span>{blog._count?.comments || 0} b√¨nh lu·∫≠n</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-around border-t pt-2\">\r\n                    <LikeButton \r\n                      blogId={blog.id}\r\n                      initialLiked={false}\r\n                      initialCount={blog._count?.likes || 0}\r\n                      onLikeChange={(newCount) => {\r\n                        setMyBlogs(prevBlogs =>\r\n                          prevBlogs.map(b =>\r\n                            b.id === blog.id\r\n                              ? { ...b, _count: { ...b._count, likes: newCount } }\r\n                              : b\r\n                          )\r\n                        )\r\n                        setLikedBlogs(prevBlogs =>\r\n                          prevBlogs.map(b =>\r\n                            b.id === blog.id\r\n                              ? { ...b, _count: { ...b._count, likes: newCount } }\r\n                              : b\r\n                          )\r\n                        )\r\n                      }}\r\n                    />\r\n                    <Link\r\n                      href={`/blog/${blog.id}`}\r\n                      className=\"flex items-center space-x-2 px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors flex-1 justify-center\"\r\n                    >\r\n                      <span className=\"text-gray-600\">üí¨</span>\r\n                      <span className=\"text-gray-600 font-medium\">B√¨nh lu·∫≠n</span>\r\n                    </Link>\r\n                    <ShareButton\r\n  blogId={blog.id}\r\n  onShared={() => {\r\n    router.refresh()\r\n  }}\r\n/>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )})}\r\n          </div>\r\n\r\n          {/* Empty State */}\r\n          {(activeTab === 'posts' ? myBlogs : likedBlogs).length === 0 && (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-8 text-center\">\r\n              <div className=\"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <span className=\"text-2xl text-gray-400\">\r\n                  {activeTab === 'posts' ? 'üìù' : '‚ù§Ô∏è'}\r\n                </span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                {activeTab === 'posts' ? 'Ch∆∞a c√≥ b√†i vi·∫øt n√†o' : 'Ch∆∞a c√≥ b√†i vi·∫øt ƒë∆∞·ª£c th√≠ch'}\r\n              </h3>\r\n              <p className=\"text-gray-500 mb-4\">\r\n                {activeTab === 'posts'\r\n                  ? 'Chia s·∫ª kho·∫£nh kh·∫Øc ƒë·∫ßu ti√™n c·ªßa b·∫°n!'\r\n                  : 'H√£y b·∫Øt ƒë·∫ßu kh√°m ph√° v√† th√≠ch nh·ªØng b√†i vi·∫øt b·∫°n y√™u th√≠ch!'}\r\n              </p>\r\n              {activeTab === 'posts' && (\r\n                <Link\r\n                  href=\"/blog/create\"\r\n                  className=\"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  T·∫°o b√†i vi·∫øt ƒë·∫ßu ti√™n\r\n                </Link>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">X√°c nh·∫≠n x√≥a b√†i vi·∫øt</h3>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b√†i vi·∫øt n√†y? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.\r\n            </p>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <button\r\n                onClick={() => handleDeletePost(showDeleteModal)}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50\"\r\n              >\r\n                {isLoading ? 'ƒêang x√≥a...' : 'X√≥a b√†i vi·∫øt'}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowDeleteModal(null)}\r\n                className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\r\n              >\r\n                H·ªßy\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Profile Modal */}\r\n      {showEditProfileModal && (\r\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn\">\r\n          <div className=\"bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl animate-slideUp\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h3 className=\"text-2xl font-bold text-gray-900\">Ch·ªânh s·ª≠a h·ªì s∆°</h3>\r\n              <button\r\n                onClick={() => setShowEditProfileModal(false)}\r\n                className=\"text-gray-500 hover:text-gray-700 text-2xl\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"space-y-5\">\r\n              {/* Full Name */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">üë§ H·ªç v√† t√™n</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editProfileData.fullname}\r\n                  onChange={(e) => {\r\n                    setEditProfileData({...editProfileData, fullname: e.target.value})\r\n                    if (profileErrors.fullname) setProfileErrors({...profileErrors, fullname: ''})\r\n                  }}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all ${\r\n                    profileErrors.fullname ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'\r\n                  }`}\r\n                  placeholder=\"Nh·∫≠p h·ªç v√† t√™n\"\r\n                />\r\n                {profileErrors.fullname && (\r\n                  <p className=\"text-red-500 text-sm mt-1\">‚ö†Ô∏è {profileErrors.fullname}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">üìß Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={editProfileData.email}\r\n                  onChange={(e) => {\r\n                    setEditProfileData({...editProfileData, email: e.target.value})\r\n                    if (profileErrors.email) setProfileErrors({...profileErrors, email: ''})\r\n                  }}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all ${\r\n                    profileErrors.email ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'\r\n                  }`}\r\n                  placeholder=\"Nh·∫≠p email\"\r\n                />\r\n                {profileErrors.email && (\r\n                  <p className=\"text-red-500 text-sm mt-1\">‚ö†Ô∏è {profileErrors.email}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Phone */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">üì± S·ªë ƒëi·ªán tho·∫°i</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={editProfileData.phone}\r\n                  onChange={(e) => {\r\n                    setEditProfileData({...editProfileData, phone: e.target.value})\r\n                    if (profileErrors.phone) setProfileErrors({...profileErrors, phone: ''})\r\n                  }}\r\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all ${\r\n                    profileErrors.phone ? 'border-red-500 focus:ring-red-500' : 'border-gray-300 focus:ring-blue-500'\r\n                  }`}\r\n                  placeholder=\"Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i\"\r\n                />\r\n                {profileErrors.phone && (\r\n                  <p className=\"text-red-500 text-sm mt-1\">‚ö†Ô∏è {profileErrors.phone}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex items-center space-x-3 mt-8\">\r\n              <button\r\n                onClick={handleSaveProfile}\r\n                disabled={isLoading || Object.keys(profileErrors).length > 0}\r\n                className={`flex-1 px-4 py-3 rounded-lg transition-all font-semibold transform active:scale-95 ${\r\n                  Object.keys(profileErrors).length > 0\r\n                    ? 'bg-gray-400 text-gray-600 cursor-not-allowed'\r\n                    : 'bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 hover:scale-105'\r\n                } disabled:opacity-50 disabled:cursor-not-allowed`}\r\n              >\r\n                {isLoading ? '‚è≥ ƒêang l∆∞u...' : '‚úì L∆∞u thay ƒë·ªïi'}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowEditProfileModal(false)}\r\n                className=\"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all font-semibold transform hover:scale-105 active:scale-95\"\r\n              >\r\n                H·ªßy\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction setFollowersCount(_arg0: number) {\r\n  // Not implemented\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAyDe,SAAS;QAwPH;;IAvPnB,MAAM,SAAS,IAAA,iLAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wMAAQ,EAAkB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wMAAQ,EAAS,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wMAAQ,EAAS,EAAE;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wMAAQ,EAAoB;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wMAAQ,EAAgB;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wMAAQ,EAAS;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wMAAQ,EAAc;IACxD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wMAAQ,EAAgB;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wMAAQ,EAAU;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wMAAQ,EAAgB;IAChE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,wMAAQ,EAAU;IAC1E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wMAAQ,EAAS;IAC7D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wMAAQ,EAAS;IAE7D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wMAAQ,EAAC;QACrD,UAAU;QACV,OAAO;QACP,OAAO;IACT;IACA,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wMAAQ,EAAyB,CAAC;IAE5E,IAAA,yMAAS;iCAAC;YACR,MAAM;mDAAY;wBAcE,iBACA;oBAdlB,MAAM,MAAM,MAAM,MAAM,WAAW;wBACjC,aAAa;oBACf;oBACA,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,QAAQ,GAAG,CAAC;oBAEZ,IAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;oBAEzB,QAAQ;oBACR,WAAW,KAAK,KAAK;oBACrB,cAAc,KAAK,KAAK,CAAC,GAAG;2DAAC,CAAC,OAAe,KAAK,IAAI;;oBAEtD,yBAAyB;oBACzB,kBAAkB,EAAA,kBAAA,KAAK,SAAS,cAAd,sCAAA,gBAAgB,MAAM,KAAI;oBAC5C,kBAAkB,EAAA,mBAAA,KAAK,SAAS,cAAd,uCAAA,iBAAgB,MAAM,KAAI;gBAC9C;;YAEA;QACF;gCAAG,EAAE;IAEL,IAAA,yMAAS;iCAAC;YACR,MAAM;4DAAqB,CAAC;oBAC1B,IAAI,cAAc;wBAChB,gBAAgB;oBAClB;oBACA,MAAM,cAAc;gBACtB;;YAEA,SAAS,gBAAgB,CAAC,SAAS;YACnC;yCAAO,IAAM,SAAS,mBAAmB,CAAC,SAAS;;QACrD;gCAAG;QAAC;KAAa;IAEjB,MAAM,iBAAiB,CAAC;QACtB,eAAe,KAAK,EAAE;QACtB,eAAe,KAAK,OAAO;QAC3B,aAAa;IACf;IAEA,MAAM,iBAAiB,OAAO;QAC5B,aAAa;QACb,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,WAAW;YAC3B,IAAI,WAAW;gBACb,SAAS,MAAM,CAAC,SAAS;YAC3B;YAEA,MAAM,WAAW,MAAM,MAAM,AAAC,aAAmB,OAAP,SAAU;gBAClD,QAAQ;gBACR,MAAM;gBACN,aAAa;YACf;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,WAAW,CAAA,YACT,UAAU,GAAG,CAAC,CAAA,OACZ,KAAK,EAAE,KAAK,SACR;4BACE,GAAG,IAAI;4BACP,SAAS,OAAO,IAAI,CAAC,OAAO;4BAC5B,UAAU,OAAO,IAAI,CAAC,QAAQ,IAAI,KAAK,QAAQ;4BAC/C,QAAQ,KAAK,MAAM,CAAC,qCAAqC;wBAC3D,IACA;gBAGR,eAAe;gBACf,eAAe;gBACf,aAAa;gBACb,MAAM;YACR,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,QAAQ;YACf,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,mBAAmB;QACvB,eAAe;QACf,eAAe;QACf,aAAa;IACf;IAEA,MAAM,mBAAmB,OAAO;QAC9B,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,AAAC,aAAmB,OAAP,SAAU;gBAClD,QAAQ;gBACR,aAAa;YACf;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,WAAW,CAAA,YAAa,UAAU,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;gBAC7D,mBAAmB;gBACnB,MAAM;YACR,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,mBAAmB,CAAC,SAAiB,WAAmB;IAC5D,wCAAwC;IAC1C;IAEA,MAAM,wBAAwB;QAC5B,mBAAmB;YACjB,UAAU,KAAK,QAAQ;YACvB,OAAO,KAAK,KAAK;YACjB,OAAO,KAAK,KAAK,IAAI;QACvB;QACA,iBAAiB,CAAC;QAClB,wBAAwB;IAC1B;IAEA,MAAM,sBAAsB;QAC1B,MAAM,SAAiC,CAAC;QAExC,IAAI,CAAC,gBAAgB,QAAQ,CAAC,IAAI,IAAI;YACpC,OAAO,QAAQ,GAAG;QACpB,OAAO,IAAI,gBAAgB,QAAQ,CAAC,IAAI,GAAG,MAAM,GAAG,GAAG;YACrD,OAAO,QAAQ,GAAG;QACpB,OAAO,IAAI,gBAAgB,QAAQ,CAAC,IAAI,GAAG,MAAM,GAAG,IAAI;YACtD,OAAO,QAAQ,GAAG;QACpB;QAEA,IAAI,CAAC,gBAAgB,KAAK,CAAC,IAAI,IAAI;YACjC,OAAO,KAAK,GAAG;QACjB,OAAO,IAAI,CAAC,eAAe,IAAI,CAAC,gBAAgB,KAAK,GAAG;YACtD,OAAO,KAAK,GAAG;QACjB;QAEA,IAAI,gBAAgB,KAAK,CAAC,IAAI,IAAI;YAChC,MAAM,aAAa;YACnB,IAAI,CAAC,WAAW,IAAI,CAAC,gBAAgB,KAAK,CAAC,OAAO,CAAC,OAAO,MAAM;gBAC9D,OAAO,KAAK,GAAG;YACjB;QACF;QAEA,iBAAiB;QACjB,OAAO,OAAO,IAAI,CAAC,QAAQ,MAAM,KAAK;IACxC;IAEA,MAAM,oBAAoB;QACxB,4BAA4B;QAC5B,IAAI,CAAC,uBAAuB;YAC1B;QACF;QAEA,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,WAAW;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;gBACrB,aAAa;YACf;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,QAAQ;gBACR,wBAAwB;gBACxB,iBAAiB,CAAC;gBAClB,MAAM;YACR,OAAO;gBACL,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,iBAAiB;wBAAE,OAAO;oBAAwB;gBACpD,OAAO;oBACL,MAAM,KAAK,KAAK,IAAI;gBACtB;YACF;QACF,EAAE,OAAO,QAAQ;YACf,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,CAAC,MAAM;QACT,qBACE,4NAAC;YAAI,WAAU;sBACb,cAAA,4NAAC;gBAAI,WAAU;;kCACb,4NAAC;wBAAI,WAAU;;;;;;kCACf,4NAAC;wBAAE,WAAU;kCAAyC;;;;;;;;;;;;;;;;;IAI9D;IAEA,SAAS,mBAAmB,WAAmB;IAC7C,WAAW;IACb;IAEA,qBACE,4NAAC;QAAI,WAAU;;0BAEb,4NAAC,6KAAU;;;;;0BAGX,4NAAC;gBAAI,WAAU;;kCAEb,4NAAC;wBAAI,WAAU;;0CACb,4NAAC;gCAAI,WAAU;0CACb,cAAA,4NAAC;oCAAI,WAAU;;;;;;;;;;;0CAIjB,4NAAC;gCAAI,WAAU;0CACb,cAAA,4NAAC;oCAAI,WAAU;;sDAEb,4NAAC;4CAAI,WAAU;;8DACb,4NAAC;oDAAI,WAAU;8DACb,cAAA,4NAAC;wDAAK,WAAU;mEACb,iBAAA,KAAK,QAAQ,cAAb,qCAAA,eAAe,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;8DAGzC,4NAAC;oDAAI,WAAU;;;;;;;;;;;;sDAIjB,4NAAC;4CAAI,WAAU;;8DACb,4NAAC;oDAAG,WAAU;8DAAgD,KAAK,QAAQ;;;;;;8DAC3E,4NAAC;oDAAE,WAAU;;wDAAoC;wDAAE,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOxE,4NAAC;wBAAI,WAAU;kCACb,cAAA,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCAAI,WAAU;8CACb,cAAA,4NAAC;wCAAI,WAAU;kDACb,cAAA,4NAAC;4CAAI,WAAU;;8DACb,4NAAC;oDAAI,WAAU;;sEACb,4NAAC;sEAAK;;;;;;sEACN,4NAAC;sEAAM,KAAK,KAAK;;;;;;;;;;;;8DAEnB,4NAAC;oDAAI,WAAU;;sEACb,4NAAC;sEAAK;;;;;;sEACN,4NAAC;sEAAM,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAMzB,4NAAC;oCAAI,WAAU;;sDACb,4NAAC,yMAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,4NAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;kCAQP,4NAAC;wBAAI,WAAU;kCACb,cAAA,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,AAAC,iDAIX,OAHC,cAAc,UACV,kCACA;;wCAEP;wCACY,QAAQ,MAAM;wCAAC;;;;;;;8CAE5B,4NAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,AAAC,iDAIX,OAHC,cAAc,UACV,kCACA;;wCAEP;wCACY,WAAW,MAAM;wCAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAOrC,4NAAC;gBAAI,WAAU;;kCAEb,4NAAC;wBAAI,WAAU;;0CAEb,4NAAC;gCAAI,WAAU;;kDACb,4NAAC;wCAAG,WAAU;kDAA2C;;;;;;kDACzD,4NAAC;wCAAI,WAAU;;0DACb,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;kEAAK;;;;;;kEACN,4NAAC;;4DAAK;4DAAM,KAAK,QAAQ;;;;;;;;;;;;;0DAE3B,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;kEAAK;;;;;;kEACN,4NAAC;kEAAM,KAAK,KAAK;;;;;;;;;;;;0DAEnB,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;kEAAK;;;;;;kEACN,4NAAC;kEAAM,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;0CAMvB,4NAAC;gCAAI,WAAU;;kDACb,4NAAC;wCAAG,WAAU;kDAA2C;;;;;;kDACzD,4NAAC;wCAAI,WAAU;;0DACb,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDAAI,WAAU;kEAAmC,QAAQ,MAAM;;;;;;kEAChE,4NAAC;wDAAI,WAAU;kEAAwB;;;;;;;;;;;;0DAEzC,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDAAI,WAAU;kEAAmC,QAAQ,MAAM,CAAC,CAAC,KAAK;gEAAgB;mEAAP,MAAM,CAAC,EAAA,eAAA,KAAK,MAAM,cAAX,mCAAA,aAAa,KAAK,KAAI,CAAC;2DAAG;;;;;;kEACjH,4NAAC;wDAAI,WAAU;kEAAwB;;;;;;;;;;;;0DAEzC,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDAAI,WAAU;kEAAqC,WAAW,MAAM;;;;;;kEACrE,4NAAC;wDAAI,WAAU;kEAAwB;;;;;;;;;;;;0DAIzC,4NAAC;gDACC,SAAS,IAAM,mBAAmB;gDAClC,WAAU;;kEAEV,4NAAC;wDAAI,WAAU;kEAAqC;;;;;;kEACpD,4NAAC;wDAAI,WAAU;kEAAwB;;;;;;;;;;;;0DAIzC,4NAAC;gDACC,SAAS,IAAM,mBAAmB;gDAClC,WAAU;;kEAEV,4NAAC;wDAAI,WAAU;kEAAoC;;;;;;kEACnD,4NAAC;wDAAI,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAO/C,4NAAC;wBAAI,WAAU;;4BAEZ,cAAc,yBACb,4NAAC;gCAAI,WAAU;;kDACb,4NAAC;wCAAI,WAAU;;0DACb,4NAAC;gDAAI,WAAU;0DACb,cAAA,4NAAC;oDAAK,WAAU;8DACb,KAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;0DAGxC,4NAAC,yMAAI;gDACH,MAAK;gDACL,WAAU;;oDAET,KAAK,QAAQ;oDAAC;;;;;;;;;;;;;kDAGnB,4NAAC;wCAAI,WAAU;kDACb,cAAA,4NAAC,yMAAI;4CACH,MAAK;4CACL,WAAU;;8DAEV,4NAAC;oDAAK,WAAU;8DAAiB;;;;;;8DACjC,4NAAC;oDAAK,WAAU;8DAA4B;;;;;;;;;;;;;;;;;;;;;;;0CAOpD,4NAAC;gCAAI,WAAU;0CACZ,CAAC,cAAc,UAAU,UAAU,UAAU,EAAE,GAAG,CAAC,CAAC;wCAwJI,cAGxC,eAQO;oCAlKtB,MAAM,WAAW,CAAC,CAAC,KAAK,UAAU;wCACd;oCAApB,MAAM,cAAc,CAAA,mBAAA,KAAK,UAAU,cAAf,8BAAA,mBAAmB;oCACvC,MAAM,gBAAgB,WAAW,KAAK,UAAU,CAAE,MAAM,GAAI,KAAK,MAAM,IAAI;oCAE3E,qBACA,4NAAC;wCAAkB,WAAU;;4CAE1B,0BACC,4NAAC;gDAAI,WAAU;;oDAAgD;oDACrC;kEACxB,4NAAC;wDAAK,WAAU;kEAA+B,cAAc,QAAQ;;;;;;;;;;;;4CAKxE,YAAY,KAAK,OAAO,kBACvB,4NAAC;gDAAI,WAAU;0DACb,cAAA,4NAAC;oDAAE,WAAU;8DAAiB,KAAK,OAAO;;;;;;;;;;;0DAK9C,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDAAI,WAAU;;0EACb,4NAAC;gEAAI,WAAU;0EACb,cAAA,4NAAC;oEAAK,WAAU;8EACb,cAAc,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;0EAGjD,4NAAC;;kFACC,4NAAC;wEAAE,WAAU;kFAA+B,cAAc,QAAQ;;;;;;kFAClE,4NAAC;wEAAE,WAAU;kFACV,IAAI,KAAK,YAAY,SAAS,EAAE,kBAAkB,CAAC,SAAS;4EAC3D,KAAK;4EACL,OAAO;4EACP,MAAM;4EACN,MAAM;4EACN,QAAQ;wEACV;;;;;;;;;;;;;;;;;;oDAML,cAAc,yBACb,4NAAC;wDAAI,WAAU;;0EACb,4NAAC;gEACC,WAAU;gEACV,SAAS,IAAM,gBAAgB,iBAAiB,KAAK,EAAE,GAAG,OAAO,KAAK,EAAE;0EAExE,cAAA,4NAAC;oEAAK,WAAU;8EAAU;;;;;;;;;;;4DAI3B,iBAAiB,KAAK,EAAE,kBACvB,4NAAC;gEAAI,WAAU;;kFACb,4NAAC;wEACC,SAAS;4EACP,eAAe;4EACf,gBAAgB;wEAClB;wEACA,WAAU;;0FAEV,4NAAC;0FAAK;;;;;;0FACN,4NAAC;0FAAK;;;;;;;;;;;;kFAER,4NAAC;wEACC,SAAS;4EACP,mBAAmB,KAAK,EAAE;4EAC1B,gBAAgB;wEAClB;wEACA,WAAU;;0FAEV,4NAAC;0FAAK;;;;;;0FACN,4NAAC;0FAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CASjB,gBAAgB,KAAK,EAAE,iBACtB,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDACC,OAAO;wDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wDAC9C,WAAU;wDACV,MAAM;wDACN,aAAY;;;;;;kEAEd,4NAAC;wDAAI,WAAU;;0EACb,4NAAC;gEACC,MAAK;gEACL,QAAO;gEACP,UAAU,CAAC;wEAAmB;2EAAb,aAAa,EAAA,kBAAA,EAAE,MAAM,CAAC,KAAK,cAAd,sCAAA,eAAgB,CAAC,EAAE,KAAI;;gEACrD,WAAU;;;;;;0EAEZ,4NAAC;gEAAI,WAAU;;kFACb,4NAAC;wEACC,SAAS,IAAM,eAAe,KAAK,EAAE;wEACrC,UAAU;wEACV,WAAU;kFAET,YAAY,gBAAgB;;;;;;kFAE/B,4NAAC;wEACC,SAAS;wEACT,WAAU;kFACX;;;;;;;;;;;;;;;;;;;;;;;qEAOP;;oDAEG,CAAC,YAAY,KAAK,OAAO,kBACxB,4NAAC;wDAAI,WAAU;kEACb,cAAA,4NAAC;4DAAE,WAAU;sEAAiB,KAAK,OAAO;;;;;;;;;;;oDAI7C,YAAY,YAAY,OAAO,kBAC9B,4NAAC;wDAAI,WAAU;kEACb,cAAA,4NAAC;4DAAE,WAAU;sEAAiB,YAAY,OAAO;;;;;;;;;;;;;0DAOzD,4NAAC,yMAAI;gDAAC,MAAM,AAAC,SAA4C,OAApC,WAAW,YAAY,EAAE,GAAG,KAAK,EAAE;0DACtD,cAAA,4NAAC;oDAAI,WAAU;8DACb,cAAA,4NAAC,0KAAK;wDACJ,KAAK,YAAY,QAAQ;wDACzB,KAAK,YAAY,OAAO,IAAI;wDAC5B,OAAO;wDACP,QAAQ;wDACR,WAAU;;;;;;;;;;;;;;;;0DAMhB,4NAAC;gDAAI,WAAU;;kEACb,4NAAC;wDAAI,WAAU;;0EACb,4NAAC;gEAAI,WAAU;;kFACb,4NAAC;wEAAK,WAAU;kFAAgB;;;;;;kFAChC,4NAAC;wEAAK,WAAU;;4EAA+B,EAAA,eAAA,KAAK,MAAM,cAAX,mCAAA,aAAa,KAAK,KAAI;4EAAE;;;;;;;;;;;;;0EAEzE,4NAAC;gEAAI,WAAU;0EACb,cAAA,4NAAC;;wEAAM,EAAA,gBAAA,KAAK,MAAM,cAAX,oCAAA,cAAa,QAAQ,KAAI;wEAAE;;;;;;;;;;;;;;;;;;kEAItC,4NAAC;wDAAI,WAAU;;0EACb,4NAAC,6KAAU;gEACT,QAAQ,KAAK,EAAE;gEACf,cAAc;gEACd,cAAc,EAAA,gBAAA,KAAK,MAAM,cAAX,oCAAA,cAAa,KAAK,KAAI;gEACpC,cAAc,CAAC;oEACb,WAAW,CAAA,YACT,UAAU,GAAG,CAAC,CAAA,IACZ,EAAE,EAAE,KAAK,KAAK,EAAE,GACZ;gFAAE,GAAG,CAAC;gFAAE,QAAQ;oFAAE,GAAG,EAAE,MAAM;oFAAE,OAAO;gFAAS;4EAAE,IACjD;oEAGR,cAAc,CAAA,YACZ,UAAU,GAAG,CAAC,CAAA,IACZ,EAAE,EAAE,KAAK,KAAK,EAAE,GACZ;gFAAE,GAAG,CAAC;gFAAE,QAAQ;oFAAE,GAAG,EAAE,MAAM;oFAAE,OAAO;gFAAS;4EAAE,IACjD;gEAGV;;;;;;0EAEF,4NAAC,yMAAI;gEACH,MAAM,AAAC,SAAgB,OAAR,KAAK,EAAE;gEACtB,WAAU;;kFAEV,4NAAC;wEAAK,WAAU;kFAAgB;;;;;;kFAChC,4NAAC;wEAAK,WAAU;kFAA4B;;;;;;;;;;;;0EAE9C,4NAAC,8KAAW;gEAC9B,QAAQ,KAAK,EAAE;gEACf,UAAU;oEACR,OAAO,OAAO;gEAChB;;;;;;;;;;;;;;;;;;;uCA1LsB,KAAK,EAAE;;;;;gCAiMlB;;;;;;4BAIF,CAAC,cAAc,UAAU,UAAU,UAAU,EAAE,MAAM,KAAK,mBACzD,4NAAC;gCAAI,WAAU;;kDACb,4NAAC;wCAAI,WAAU;kDACb,cAAA,4NAAC;4CAAK,WAAU;sDACb,cAAc,UAAU,OAAO;;;;;;;;;;;kDAGpC,4NAAC;wCAAG,WAAU;kDACX,cAAc,UAAU,yBAAyB;;;;;;kDAEpD,4NAAC;wCAAE,WAAU;kDACV,cAAc,UACX,0CACA;;;;;;oCAEL,cAAc,yBACb,4NAAC,yMAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;YAUV,iCACC,4NAAC;gBAAI,WAAU;0BACb,cAAA,4NAAC;oBAAI,WAAU;;sCACb,4NAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,4NAAC;4BAAE,WAAU;sCAAqB;;;;;;sCAGlC,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCACC,SAAS,IAAM,iBAAiB;oCAChC,UAAU;oCACV,WAAU;8CAET,YAAY,gBAAgB;;;;;;8CAE/B,4NAAC;oCACC,SAAS,IAAM,mBAAmB;oCAClC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YASR,sCACC,4NAAC;gBAAI,WAAU;0BACb,cAAA,4NAAC;oBAAI,WAAU;;sCACb,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,4NAAC;oCACC,SAAS,IAAM,wBAAwB;oCACvC,WAAU;8CACX;;;;;;;;;;;;sCAKH,4NAAC;4BAAI,WAAU;;8CAEb,4NAAC;;sDACC,4NAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,4NAAC;4CACC,MAAK;4CACL,OAAO,gBAAgB,QAAQ;4CAC/B,UAAU,CAAC;gDACT,mBAAmB;oDAAC,GAAG,eAAe;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAA;gDAChE,IAAI,cAAc,QAAQ,EAAE,iBAAiB;oDAAC,GAAG,aAAa;oDAAE,UAAU;gDAAE;4CAC9E;4CACA,WAAW,AAAC,8GAEX,OADC,cAAc,QAAQ,GAAG,sCAAsC;4CAEjE,aAAY;;;;;;wCAEb,cAAc,QAAQ,kBACrB,4NAAC;4CAAE,WAAU;;gDAA4B;gDAAI,cAAc,QAAQ;;;;;;;;;;;;;8CAKvE,4NAAC;;sDACC,4NAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,4NAAC;4CACC,MAAK;4CACL,OAAO,gBAAgB,KAAK;4CAC5B,UAAU,CAAC;gDACT,mBAAmB;oDAAC,GAAG,eAAe;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAA;gDAC7D,IAAI,cAAc,KAAK,EAAE,iBAAiB;oDAAC,GAAG,aAAa;oDAAE,OAAO;gDAAE;4CACxE;4CACA,WAAW,AAAC,8GAEX,OADC,cAAc,KAAK,GAAG,sCAAsC;4CAE9D,aAAY;;;;;;wCAEb,cAAc,KAAK,kBAClB,4NAAC;4CAAE,WAAU;;gDAA4B;gDAAI,cAAc,KAAK;;;;;;;;;;;;;8CAKpE,4NAAC;;sDACC,4NAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,4NAAC;4CACC,MAAK;4CACL,OAAO,gBAAgB,KAAK;4CAC5B,UAAU,CAAC;gDACT,mBAAmB;oDAAC,GAAG,eAAe;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAA;gDAC7D,IAAI,cAAc,KAAK,EAAE,iBAAiB;oDAAC,GAAG,aAAa;oDAAE,OAAO;gDAAE;4CACxE;4CACA,WAAW,AAAC,8GAEX,OADC,cAAc,KAAK,GAAG,sCAAsC;4CAE9D,aAAY;;;;;;wCAEb,cAAc,KAAK,kBAClB,4NAAC;4CAAE,WAAU;;gDAA4B;gDAAI,cAAc,KAAK;;;;;;;;;;;;;;;;;;;sCAMtE,4NAAC;4BAAI,WAAU;;8CACb,4NAAC;oCACC,SAAS;oCACT,UAAU,aAAa,OAAO,IAAI,CAAC,eAAe,MAAM,GAAG;oCAC3D,WAAW,AAAC,sFAIX,OAHC,OAAO,IAAI,CAAC,eAAe,MAAM,GAAG,IAChC,iDACA,+GACL;8CAEA,YAAY,kBAAkB;;;;;;8CAEjC,4NAAC;oCACC,SAAS,IAAM,wBAAwB;oCACvC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAzwBwB;;QACP,iLAAS;;;KADF;AA2wBxB,SAAS,kBAAkB,KAAa;AACtC,kBAAkB;AACpB","debugId":null}}]
}