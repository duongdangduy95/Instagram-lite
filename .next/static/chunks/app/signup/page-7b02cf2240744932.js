(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{63:(e,r,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},6043:(e,r,s)=>{Promise.resolve().then(s.bind(s,8923))},8923:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(5155),a=s(2115),l=s(2619),n=s.n(l),i=s(63);function o(){let e=(0,i.useRouter)(),[r,s]=(0,a.useState)({username:"",fullname:"",email:"",phone:"",password:""}),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),[b,j]=(0,a.useState)({}),y=e=>{let{name:t,value:a}=e.target;s({...r,[t]:a}),b[t]&&j({...b,[t]:""})},w=async()=>{let t=(()=>{let e={};return r.username.length<3&&(e.username="Username phải c\xf3 \xedt nhất 3 k\xfd tự"),r.fullname.length<2&&(e.fullname="Họ t\xean phải c\xf3 \xedt nhất 2 k\xfd tự"),/\S+@\S+\.\S+/.test(r.email)||(e.email="Email kh\xf4ng hợp lệ"),r.phone&&!/^[0-9]{10,11}$/.test(r.phone.replace(/\s/g,""))&&(e.phone="Số điện thoại kh\xf4ng hợp lệ"),r.password.length<6&&(e.password="Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"),r.password!==l&&(e.confirmPassword="Mật khẩu x\xe1c nhận kh\xf4ng khớp"),e})();if(Object.keys(t).length>0)return void j(t);v(!0),d(""),j({});try{let t=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();t.ok?(d("Đăng k\xfd th\xe0nh c\xf4ng!"),m("success"),s({username:"",fullname:"",email:"",phone:"",password:""}),o(""),setTimeout(()=>{e.push("/login")},1500)):(d(a.message||"Đăng k\xfd thất bại"),m("error"))}catch(e){d("C\xf3 lỗi xảy ra, vui l\xf2ng thử lại"),m("error")}finally{v(!1)}},N=e=>{"Enter"===e.key&&w()};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 backdrop-blur-sm border border-white/20",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L13.5 2.5L16.17 5.17L10.5 10.84L5.83 6.17L8.5 3.5L7 2L1 8H3V19C3 20.1 3.9 21 5 21H11V19H5V9H3L7 5L12.19 10.19L15.83 6.56L19 9.73V12H21V9Z"})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Tạo t\xe0i khoản mới"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Điền th\xf4ng tin để bắt đầu"})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,t.jsx)("input",{name:"username",placeholder:"Username",value:r.username,onChange:y,onKeyPress:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",required:!0}),b.username&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.username})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v2h2v-2h3v4H4zm2-6c-1.11 0-2-.89-2-2s.89-2 2-2 2 .89 2 2-.89 2-2 2zm0 1c2.67 0 8 1.34 8 4v1H6v-1c0-2.66 5.33-4 8-4z"})})}),(0,t.jsx)("input",{name:"fullname",placeholder:"Họ v\xe0 t\xean",value:r.fullname,onChange:y,onKeyPress:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",required:!0}),b.fullname&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.fullname})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:y,onKeyPress:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",required:!0}),b.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.email})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})})}),(0,t.jsx)("input",{name:"phone",placeholder:"Số điện thoại (t\xf9y chọn)",value:r.phone,onChange:y,onKeyPress:N,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"}),b.phone&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.phone})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})})}),(0,t.jsx)("input",{type:u?"text":"password",name:"password",placeholder:"Mật khẩu",value:r.password,onChange:y,onKeyPress:N,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}),(0,t.jsx)("path",{d:"M2,4.27L19.73,22L21.14,20.59L3.41,2.86L2,4.27Z"})]}):(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"})})}),b.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.password})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15A2,2 0 0,1 12,17M18,20V10H6V20H18M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10C4,8.89 4.89,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})})}),(0,t.jsx)("input",{type:p?"text":"password",placeholder:"X\xe1c nhận mật khẩu",value:l,onChange:e=>o(e.target.value),onKeyPress:N,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>g(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}),(0,t.jsx)("path",{d:"M2,4.27L19.73,22L21.14,20.59L3.41,2.86L2,4.27Z"})]}):(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"})})}),b.confirmPassword&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:b.confirmPassword})]}),c&&(0,t.jsx)("div",{className:"rounded-xl p-3 text-center animate-pulse ".concat("success"===h?"bg-emerald-50 border border-emerald-200 text-emerald-700":"bg-red-50 border border-red-200 text-red-700"),children:(0,t.jsx)("p",{className:"text-sm font-medium",children:c})}),(0,t.jsx)("button",{onClick:w,disabled:f||!r.username||!r.fullname||!r.email||!r.password||!l,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3 px-4 rounded-xl font-medium hover:from-emerald-600 hover:to-teal-700 focus:ring-4 focus:ring-emerald-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95",children:f?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Đang đăng k\xfd..."]}):"Tạo t\xe0i khoản"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,t.jsx)(n(),{href:"/login",className:"text-emerald-600 hover:text-emerald-800 hover:underline font-medium transition-colors",children:"Đăng nhập ngay"})]})})]})]}),(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsxs)("p",{className:"text-gray-500 text-xs",children:["Bằng việc đăng k\xfd, bạn đồng \xfd với"," ",(0,t.jsx)("a",{href:"#",className:"text-emerald-600 hover:underline",children:"Điều khoản dịch vụ"})," ","v\xe0"," ",(0,t.jsx)("a",{href:"#",className:"text-emerald-600 hover:underline",children:"Ch\xednh s\xe1ch bảo mật"})]})})]})})}}},e=>{e.O(0,[619,441,493,358],()=>e(e.s=6043)),_N_E=e.O()}]);